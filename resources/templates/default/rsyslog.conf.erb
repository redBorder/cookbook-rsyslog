###############################################################################
# Generated by Chef for <%= node["hostname"] %>
###############################################################################
# /etc/rsyslog.conf
# Configuration file for rsyslog.
#
# For more information see: /usr/share/doc/rsyslog-doc/html/rsyslog_conf.html
#

#################
#### MODULES ####
#################

$ModLoad imuxsock # provides support for local system logging
#$ModLoad imklog   # provides kernel logging support (previously done by rklogd)
#$ModLoad immark  # provides --MARK-- message capability

###########################
#### GLOBAL DIRECTIVES ####
###########################

#
# Use traditional timestamp format.
# To enable high precision timestamps, comment out the following line.
#
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# Don't filter duplicated messages
$RepeatedMsgReduction off

#
# Set the default permissions for all log files.
#
$FileOwner <%= node["redborder"]["rsyslog"]["user"] %>
$FileGroup <%= node["redborder"]["rsyslog"]["group"] %>
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022
$PrivDropToUser <%= node["redborder"]["rsyslog"]["user"] %>
$PrivDropToGroup <%= node["redborder"]["rsyslog"]["group"] %>

#
# Where to place spool files
#
$WorkDirectory <%= node["redborder"]["rsyslog"]["work_dir"] %>

#
# Include all config files in /etc/rsyslog.d/
#

$IncludeConfig <%= node["redborder"]["rsyslog"]["config_dir"] %>/*.conf
